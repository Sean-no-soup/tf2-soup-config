//core/startup.cfg
//is run by autoexec at startup
/////////////////////////////////////////////////////////////////////////////
//////////////////////////////starting settings//////////////////////////////

// disable notifications and opt outs handled by mastercomfig no-tutorial
// no soundscapes (ambient sound) handled by mastercomfig no-soundscapes

////this is a good idea, but I'm too lazt to implement a layer for controller rn
//controller_hud_disable      // enable/disable controller specific hud
//controller_sens_def         // def, noaccel, omni

//console
	con_enable 1
	//developer 0 //keeps console output on top left of screen
	//con_filter_enable 1
	//con_filter_text_out "Error" //spam?

//mouse settings
	sensitivity 			0.6
	mat_vsync 				0
	m_rawinput 				1
	m_filter 				0 //evil setting >:c
	m_mousespeed 			0
	m_mouseaccel1 			0
	m_mouseaccel2 			0
	m_customaccel 			0
	m_customaccel_exponent 	0
	m_customaccel_max 		0
	m_customaccel_scale 	0
	zoom_sensitivity_ratio 	0.793471

//controller settings
	cl_yawspeed 80

//sound settings
	dsp_enhance_stereo 			0		// 0 for software headphones surround, 1 for snd_surround_speakers
	dsp_water 					0		// removes "underwatery" sound
	snd_mixahead 				0.06	// Sound delay/buffer. Increase if you the beginning of sounds are cut out .05 has been known to be unstable
	snd_musicvolume 			0		// yes I play my own music
	snd_pitchquality 			1		// crap audio for nill frames
	snd_spatialize_roundrobin 	0		// keep at 0 for better surround sound placement/accuracy
	snd_surround_speakers 		0   	// 0 for built-in Miles3D headphone sound, 2/4/5/7 for # speakers setup
	volume 						0.1
	
//video settings
	fov_desired 					90
	viewmodel_fov 					80
	tf_use_min_viewmodels 			1
	glow_outline_effect_enable 		1 // ally and obj outline effect
	tf_enable_glows_after_respawn 	1 // literally just to screw over spies default setting
	tf_spec_xray					1 // also screw over spies default setting

//hud (ahud) and options
	tf_party_join_request_mode 			0	    // friends may join at will
	tf_scoreboard_mouse_mode 			1 	    // mouse interact
	cl_software_cursor 					1	    // Uses a stylized cursor handled by the game instead of the OS
	tf_use_match_hud 					1 	    // casual hud, show players at top
	cl_hud_minmode 						0	    // need this for ahud
	tf_contract_progress_show 			2	    // show contracts if applicable
	tf_time_loading_item_panels         0.0005  // helps with item panels not loating with mastercomfig
	tf_dashboard_slide_time 			0 	    // main menu transition animation time
	tf_scoreboard_ping_as_text 			1
	tf_hud_notification_duration 		3	    // popups like 'your intelligence has been picked up'
	cl_hudhint_sound 					1 	    // enable HUD sounds	
	hud_saytext_time 					20      // time chat stays on screen
	tf_hud_target_id_alpha 				100     // target id name plate
	tf_spectator_target_location 		3 	    // while spectating where is player info displayed, 0-3

	//if custom maps being run locally are not working try setting this to always
	sv_allow_point_servercommand official  // official, always, naver //https://steamcommunity.com/sharedfiles/filedetails/?id=484350671
	
//Net_graph settings
	net_graphshowinterp 1
	net_graphshowlatency 1
	net_graphtext "1"
	net_graphproportionalfont 1
	net_graph 1
	net_graphpos 0 //Location of the net-graph.
	net_graphsolid 0
	net_graphmsecs 200
	net_scale 15
	net_graphheight 64
	net_graphsolid 0
				
//game advanced settings 
	hud_freezecamhide					1  // Hide the HUD during freeze-cam
	hud_medichealtargetmarker 			1
	hud_medicautocallers 				1  // autocall for medic at a certain health
	hud_medicautocallersthreshold 		70 // there is also a that briefly reduces this to very low
	hud_classautokill 					1  // die if you switch class outside spawn
	hud_fastswitch 						1
	cl_use_tournament_specgui 			0
	cl_hud_playerclass_use_playermodel 	0  //previously: LAAAAAG, but they optimized it some
	cl_disablehtmlmotd 					0  //often blocks annoying ads on servers but some of them kick you if the ad doesn't load
	cl_autoreload 						1
	cl_autorezoom 						0  // Re-Scope after shooting for Sniper
	cl_flipviewmodels 					0  // this is funny
	cl_showbackpackrarities				2  // as borders
	cl_cloud_settings					0  // prevent cloud backups because annoying to modify here and deal with sync
	cl_spec_carrieditems 				1  // show spectated player items would be good to disable for streamermode
	tf_medigun_autoheal 				1
	tf_simple_disguise_menu 			0
	tf_sniper_fullcharge_bell 			1
	tf_hud_no_crosshair_on_scope_zoom 	0
	prec_delete_useless_demo 			0
	mat_queue_mode 						2  // multithreading?



// Combat feedback

  //hitsounds in refresh_settings

  //crosshair
	cl_crosshair_red   	255  //pink
	cl_crosshair_green 	77
	cl_crosshair_blue  	255
	cl_crosshair_scale 	32
	cl_crosshair_file 	""   //required for cfg.tf crosshair switcher
	
  //damage numbers
	hud_combattext						1			// enable damage text on hud
	hud_combattext_red 					255 		// yellow
	hud_combattext_green				215 
	hud_combattext_blue 				0 
	hud_combattext_batching				1			// group hits
	hud_combattext_batching_window		2			// Time in seconds to group damage text. (0.1-2.0)
	hud_combattext_healing				1			// Turns healing text above teammates on
	hud_combattext_doesnt_block_overhead_text	1	// overwrite the particle effects used for critical hits and mini-crits
												
  //killstreaks
	ds_min_streak 						4
	ds_kill_delay 						1000
	cl_hud_killstreak_display_alpha    	100  	//0 to 255
	cl_hud_killstreak_display_fontsize 	1    	//0 to 2
	cl_hud_killstreak_display_time     	2.25 	//in seconds

///////////////////////////////////////////////////////////////////////////
//////////////////////////////help in colsole//////////////////////////////

alias help "exec core/scripts/help/help.cfg"
setinfo help "echos helpful commands for condole"

alias echobinds "exec core/scripts/help/binds.cfg"
setinfo echobinds "echos a lot of keybinds"

alias hudhelp "exec core/scripts/help/hud_editing_help.cfg"
setinfo hudhelp "w.i.p. helpful settings for hud development"

//common fixes
	alias fixdemoreset "record fix; stop"
	alias fixsound "snd_restart"
	alias fixminus "exec scripts/help/minus_everything.cfg"
	alias fixhud "hud_reloadscheme;tf_party_force_update"
	alias fixall "record fix; stop; snd_restart"
	setinfo fixdemoreset ""
	setinfo fixsound ""
	setinfo fixminus "remove conditions"
	setinfo fixhud ""
	setinfo fixall ""

//wait-test
	alias waitTester "alias waitTest waitPositive;wait;waitTest"
	alias wait "alias waitTest waitNegative"
	alias waitPositive "echo Wait is enabled on this server.;exec waitPositive.cfg"
	alias waitNegative "echo Wait is DISABLED on this server!;exec waitNegative.cfg"
	setinfo waitTester "echo if wait is enabled on the server"

//setting commnds
	alias jumpsettings "exec core/map/jump.cfg"
	alias trsettings "exec core/map/training.cfg"
	alias botsettings "exec core/map/bot.cfg"
	setinfo jumpsettings ""
	setinfo trsettings ""
	setinfo botsettings ""

	alias tr_walkway "sv_allow_point_servercommand always; map workshop/606778917" //access walkway through the workshot because it's being a pain to install
	setinfo tr_walkway "setup and open tr_walkway"



///////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////general fixes and useful things//////////////////////////////

// fixes missing command issues with some huds
	alias #base 		""
	alias performlayout ""
	alias reloadscheme 	"hud_reloadscheme"

//servers might make annoying features out of these
	alias rpt_connect		""
	alias closed_htmlpage ""               // blocks pinion ads, might need to bind to activate an additional time

//ahud home server
	alias JoinHomeServer "connect 74.91.127.161"// I never got this to work... 

////////////////////////////////////////////////////////////////////////////
//////////////////////////////weapon switching//////////////////////////////

//this script repalces the weapon switching and allows additional functionality to be built on i.e. change settings based on which slot it selected
alias wep_all "memcomp; cleardecals"

//binding layer
	alias wep_1 	"wep1_logic"
	alias wep_2 	"wep2_logic"
	alias wep_3 	"wep3_logic"
	alias wep_4 	"wep4_logic"
	alias wep_5 	"wep5_logic"
	alias wep_last	"wep_last_logic"
	
//what to do when a weapon is switched to
	alias wep1_cycle "wep_all; slot1_commands; slot1"
	alias wep2_cycle "wep_all; slot2_commands; slot2"
	alias wep3_cycle "wep_all; slot3_commands; slot3"
	alias wep4_cycle "wep_all; slot4_commands; slot4"
	alias wep5_cycle "wep_all; slot5_commands; slot5"

//placeholder aliases (set per class)
	alias slot1_commands  none
	alias slot2_commands  none
	alias slot3_commands  none
	alias slot4_commands  none
	alias slot5_commands  none

//switching logic/weapon states (wep cycled to, cycled from) (special condition don't let 4 or 5 be last weapon), use one of these as the starting weapon state
	alias wep1-2 "alias wep_last_logic wep2-1; alias wep1_logic wep1-2; alias wep2_logic wep2-1; alias wep3_logic wep3-1; alias wep4_logic wep4-1-2; alias wep5_logic wep5-1-2; wep1_cycle"
	alias wep1-3 "alias wep_last_logic wep3-1; alias wep1_logic wep1-3; alias wep2_logic wep2-1; alias wep3_logic wep3-1; alias wep4_logic wep4-1-3; alias wep5_logic wep5-1-3; wep1_cycle"
	alias wep2-1 "alias wep_last_logic wep1-2; alias wep1_logic wep1-2; alias wep2_logic wep2-1; alias wep3_logic wep3-2; alias wep4_logic wep4-2-1; alias wep5_logic wep5-2-1; wep2_cycle"
	alias wep2-3 "alias wep_last_logic wep3-2; alias wep1_logic wep1-2; alias wep2_logic wep2-3; alias wep3_logic wep3-2; alias wep4_logic wep4-2-3; alias wep5_logic wep5-2-3; wep2_cycle"
	alias wep3-1 "alias wep_last_logic wep1-3; alias wep1_logic wep1-3; alias wep2_logic wep2-3; alias wep3_logic wep3-1; alias wep4_logic wep4-3-1; alias wep5_logic wep5-3-1; wep3_cycle"
	alias wep3-2 "alias wep_last_logic wep2-3; alias wep1_logic wep1-3; alias wep2_logic wep2-3; alias wep3_logic wep3-2; alias wep4_logic wep4-3-2; alias wep5_logic wep5-3-2; wep3_cycle"
	
	alias wep4-1-2 "alias wep_last_logic wep1-2; wep4_cycle"
	alias wep4-1-3 "alias wep_last_logic wep1-3; wep4_cycle"
	alias wep4-2-1 "alias wep_last_logic wep2-1; wep4_cycle"
	alias wep4-2-3 "alias wep_last_logic wep2-3; wep4_cycle"
	alias wep4-3-1 "alias wep_last_logic wep3-1; wep4_cycle"
	alias wep4-3-2 "alias wep_last_logic wep3-2; wep4_cycle"
	
	alias wep5-1-2 "alias wep_last_logic wep1-2; wep5_cycle"
	alias wep5-1-3 "alias wep_last_logic wep1-3; wep5_cycle"
	alias wep5-2-1 "alias wep_last_logic wep2-1; wep5_cycle"
	alias wep5-2-3 "alias wep_last_logic wep2-3; wep5_cycle"
	alias wep5-3-1 "alias wep_last_logic wep3-1; wep5_cycle"
	alias wep5-3-2 "alias wep_last_logic wep3-2; wep5_cycle"

/////////////////////////////////////////////////////////////////////////
//////////////////////////////class scripts//////////////////////////////

//engineer destroy and rebuild buildings
	alias sentry "destroy 2; build 2";
	alias dispenser "destroy 0; build 0";

// medic autocall radar
	alias "autocall_default" "hud_medicautocallersthreshold "60""
	alias "autocall_all" "hud_medicautocallersthreshold "150""
	alias "+radar" "autocall_all"
	alias "-radar" "autocall_default"

//spy quick disguise with m4(default quickswitch in binds) + 1-5
	//spy quick disguise and weapon toggle options 1-5
	alias qd1_w "slot1"
	alias qd2_w "slot2"
	alias qd3_w "slot3"
	alias qd4_w "slot4"
	alias qd5_w "slot5"
	alias qd1_d "disguise 8 -1" //enemy spy
	alias qd2_d "disguise 5 -1" //enemy medic
	alias qd3_d "disguise 1 -1" //enemy scout
	alias qd4_d "disguise 7 -2" //friendly pyro for deadringer 
	alias qd5_d "disguise 9 -2" //friendly engineer for deadringer 

	//quick disguise toggle + lastinv (bind mouse4 qdt)
	alias +qdt 	"+qdtoggle; lastinv"
	alias -qdt 	"-qdtoggle"
	
	//quick disguise shifter
	alias +qdtoggle "alias qd1 qd1_d;alias qd2 qd2_d;alias qd3 qd3_d;alias qd4 qd4_d;alias qd5 qd5_d"     //shifted
	alias -qdtoggle "alias qd1 qd1_w;alias qd2 qd2_w;alias qd3 qd3_w;alias qd4 qd4_w;alias qd5 qd5_w"     //normal
	-qdtoggle //preset all

/////////////////////////////////////////////////////////////////////////////
//////////////////////////////misc other things//////////////////////////////

//crtl and alt shifting for numpad 1-9 (rest in binds)
	alias untoggleNumpad "alias np1 np1_1;alias np2 np2_1;alias np3 np3_1;alias np4 np4_1;alias np5 np5_1;alias np6 np6_1;alias np7 np7_1;alias np8 np8_1;alias np9 np9_1"	   //undo toggle
	alias +toggleCtrl    "alias np1 np1_2;alias np2 np2_2;alias np3 np3_2;alias np4 np4_2;alias np5 np5_2;alias np6 np6_2;alias np7 np7_2;alias np8 np8_2;alias np9 np9_2"     //Ctrl-d
	alias +toggleAlt     "alias np1 np1_3;alias np2 np2_3;alias np3 np3_3;alias np4 np4_3;alias np5 np5_3;alias np6 np6_3;alias np7 np7_3;alias np8 np8_3;alias np9 np9_3"     //Alt-d
	alias -toggleCtrl	 "untoggleNumpad"
	alias -toggleAlt  	 "untoggleNumpad"
	untoggleNumpad
	
//show net_graph 4 and time left on tab press, honestly might ditch this one
	alias +tabgraph "+showscores; net_graph 4"
	alias -tabgraph "-showscores; net_graph 0; timeleft"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////for now to make sure no weirdness comes of not running this//////////////////////////////

exec core/refresh.cfg